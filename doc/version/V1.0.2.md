# 版本更新说明 - V1.0.2

## 1. 核心功能增强
- **灵活保质期输入**：添加物品时，保质期单位现在支持“天、周、月、年”，并会自动根据输入进行单位换算。
- **自定义提醒**：提醒时间不再局限于硬编码的选项，支持用户自定义数值及单位（天、周、月、年）。
- **优化重新补货**：历史记录中的“重新补货”现在会跳转至添加页面并预填充原物品信息，方便用户更新过期日期。
- **隐私政策入口**：在设置页面添加了“隐私政策”入口，符合 Google Play 上架合规性要求。

## 2. UI/UX 体验优化
- **品牌 Logo 更新**：主页左上角叶子图标已替换为正式的 App Logo，并优化了显示尺寸。
- **性能大幅提升**：重构主页列表为 `CustomScrollView` + `SliverList` 结构，支持海量数据的懒加载，滑动更流畅。
- **搜索防抖 (Debounce)**：搜索框增加 300ms 延迟触发，避免频繁查询导致的卡顿。
- **全界面本地化**：
    - 物品单位（个、千克、包等）现在支持中英文动态切换。
    - 图片来源（相册、相机）已汉化。
    - 删除确认、表单校验等所有硬编码提示均已本地化。
- **保存反馈**：添加/修改按钮增加了 Loading 状态显示，防止重复点击。
- **自动归位**：在点击“保存并添加下一条”后，页面会自动滚动回顶部，方便连续录入。

## 3. 系统鲁棒性与性能
- **启动优化**：引入 `SharedPreferences` 记录初始化状态，避免每次启动都执行耗时的数据种子填充和迁移逻辑。
- **架构健壮性**：
    - 默认分类和位置改用 ID 查找（缓存于本地配置），彻底解决了因重命名或语言切换导致的系统项丢失风险。
    - 优化了删除逻辑顺序，防止 StreamBuilder 在监听空数据时产生的界面闪烁或卡死。
- **通知生命周期管理**：在 `InventoryRepository` 层强制关联通知清理，确保物品被删除或标记已用后，相关的本地通知会被彻底撤销。
- **存储优化**：统一保存图片格式为 `.jpg`，确保 `image_quality` 压缩生效，节省用户存储空间。
- **依赖管理**：锁定了 `intl` 等关键库的版本，确保构建环境的稳定性。

## 4. 问题修复
- 修复了补货模式下因尝试加载未持久化对象的 IsarLink 导致的“一直转圈”Bug。
- 修复了删除物品时界面不跳转并显示 Loading 的逻辑冲突。
- 修复了 Android 11+ 设备上无法通过 URL 打开网页的权限问题。
- 修复了 App 启动时语言解析可能导致的潜在崩溃风险。
